<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XMLHttpRequest对象</title>
    <script type="text/javascript">
        /* 封装通用的xhr对象 兼容各个版本 */
        function createXHR() {
            //判断浏览器是否将XMLHttpRequest作为本地对象实现，针对IE7,firefox,opera等
            if (typeof XMLHttpRequest != undefined) {
                return new XMLHttpRequest();
            } else if (typeof ActiveXObject != undefined) {
                //将所有可能出现的ActiveObject版本放在一个数组中
                var xhrArr = ['Miscroft.XMLHTTP', 'MSXML2.XMLHTTP.6.0',
                    'MSXML2.XMLHTTP.5.0', 'MSXML2.XMLHTTP.4.0',
                    'MSXML2.XMLHTTP.3.0', 'MSXML2.XMLHTTP.2.0'
                ]
                //遍历创建XMLHttpRequest对象
                var len = xhrArr.length,
                    xhr;
                for (var i = 0; i < len; i++) {
                    try {
                        //创建XMLHttpRequest对象
                        xhr = new ActiveXObject(xhrArr[i]);
                        break;
                    } catch (e) {};
                }
                return xhr;
            } else {
                throw new Error('No XHR Object availbel');
            }
        }
        //XMLHttpRequest对象
        var xhr = createXHR();
        console.log(xhr);
    </script>
</head>

<body>
    <!--                        XMLHttpRequest对象
    XMLHttpRequest：
        (1)一种异步请求的技术，他是Ajax的核心

    作用：
        (1)可以向服务器提出请求并处理响应，而不阻塞用户       --          异步调用
        (2)可以在页面加载完以后进行局部的更新                 --          局部刷新

    用法步骤：
        (1)创建XMLHttpRequest对象，即一个异步调用对象
        (2)创建一个新的Http请求，并指定该Http请求的方法、URL
        (3)设置响应HTTP请求状态变化的函数
-->

</body>

</html>